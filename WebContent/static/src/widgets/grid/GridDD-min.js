Ext.grid.GridDragZone=function(b,a){this.view=b.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,a);this.scroll=false;this.grid=b;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap";this.preventDefault=true};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(f){var c=Ext.lib.Event.getTarget(f),h,g=this.view.findRowIndex(c),b,a,d;if(g!==false){h=this.grid.selModel;if(h.getSelectedCell){b=this.view.findCellIndex(c);a=h.getSelectedCell();if(!a||a[0]!==g||a[1]!==b){h.handleMouseDown(this.grid,g,b,f)}if(this.grid.dragCell){d=h.getSelectedCell();if(!this.grid.hasOwnProperty("ddText")){this.grid.ddText="{0} selected cell{1}"}}else{d=[this.grid.store.getAt(g)]}}else{if(!h.isSelected(g)||f.hasModifier()){h.handleMouseDown(this.grid,g,f)}d=h.getSelections()}return{grid:this.grid,ddel:this.ddel,rowIndex:g,selections:d}}return false},onInitDrag:function(b){var a=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(b,a){return false},onEndDrag:function(a,b){},onValidDrop:function(a,b,c){this.hideProxy()},beforeInvalidDrop:function(a,b){}});