Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",calculateChildBoxes:function(q,b){var E=q.length,Q=this.padding,C=Q.top,T=Q.left,x=C+Q.bottom,N=T+Q.right,a=b.width-this.scrollOffset,e=b.height,n=Math.max(0,e-x),O=this.pack=="start",V=this.pack=="center",z=this.pack=="end",K=0,P=0,S=0,k=0,W=0,G=[],j,I,L,U,v,h,R,H,c,w,p,M;for(R=0;R<E;R++){j=q[R];L=j.height;I=j.width;h=!j.hasLayout&&typeof j.doLayout=="function";if(typeof I!="number"){if(j.flex&&!I){S+=j.flex}else{if(!I&&h){j.doLayout()}U=j.getSize();I=U.width;L=U.height}}v=j.margins;w=v.left+v.right;K+=w+(I||0);k+=w+(j.flex?j.minWidth||0:I);W+=w+(j.minWidth||I||0);if(typeof L!="number"){if(h){j.doLayout()}L=j.getHeight()}P=Math.max(P,L+v.top+v.bottom);G.push({component:j,height:L||undefined,width:I||undefined})}var J=k-a,o=W>a;var m=Math.max(0,a-K-N);if(o){for(R=0;R<E;R++){G[R].width=q[R].minWidth||q[R].width||G[R].width}}else{if(J>0){var B=[];for(var D=0,u=E;D<u;D++){var A=q[D],s=A.minWidth||0;if(A.flex){G[D].width=s}else{B.push({minWidth:s,available:G[D].width-s,index:D})}}B.sort(function(X,i){return X.available>i.available?1:-1});for(var R=0,u=B.length;R<u;R++){var F=B[R].index;if(F==undefined){continue}var A=q[F],l=G[F],t=l.width,s=A.minWidth,d=Math.max(s,t-Math.ceil(J/(u-R))),f=t-d;G[F].width=d;J-=f}}else{var g=m,r=S;for(R=0;R<E;R++){j=q[R];H=G[R];v=j.margins;p=v.top+v.bottom;if(O&&j.flex&&!j.width){c=Math.ceil((j.flex/r)*g);g-=c;r-=j.flex;H.width=c;H.dirtySize=true}}}}if(V){T+=m/2}else{if(z){T+=m}}for(R=0;R<E;R++){j=q[R];H=G[R];v=j.margins;T+=v.left;p=v.top+v.bottom;H.left=T;H.top=C+v.top;switch(this.align){case"stretch":M=n-p;H.height=M.constrain(j.minHeight||0,j.maxHeight||1000000);H.dirtySize=true;break;case"stretchmax":M=P-p;H.height=M.constrain(j.minHeight||0,j.maxHeight||1000000);H.dirtySize=true;break;case"middle":var y=n-H.height-p;if(y>0){H.top=C+p+(y/2)}}T+=H.width+v.right}return{boxes:G,meta:{maxHeight:P,nonFlexWidth:K,desiredWidth:k,minimumWidth:W,shortfall:k-a,tooNarrow:o}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;