Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a={};if(b){a=b.getViewSize();if(Ext.isIE9m&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},onLayout:function(l,v){Ext.layout.AnchorLayout.superclass.onLayout.call(this,l,v);var o=this.getLayoutTargetSize(),j=o.width,n=o.height,p=v.getStyle("overflow"),m=this.getRenderedItems(l),s=m.length,f=[],h,a,u,k,g,c,e,d,t=0,r,b;if(j<20&&n<20){return}if(l.anchorSize){if(typeof l.anchorSize=="number"){a=l.anchorSize}else{a=l.anchorSize.width;u=l.anchorSize.height}}else{a=l.initialConfig.width;u=l.initialConfig.height}for(r=0;r<s;r++){k=m[r];b=k.getPositionEl();if(!k.anchor&&k.items&&!Ext.isNumber(k.width)&&!(Ext.isIE6&&Ext.isStrict)){k.anchor=this.defaultAnchor}if(k.anchor){g=k.anchorSpec;if(!g){d=k.anchor.split(" ");k.anchorSpec=g={right:this.parseAnchor(d[0],k.initialConfig.width,a),bottom:this.parseAnchor(d[1],k.initialConfig.height,u)}}c=g.right?this.adjustWidthAnchor(g.right(j)-b.getMargins("lr"),k):undefined;e=g.bottom?this.adjustHeightAnchor(g.bottom(n)-b.getMargins("tb"),k):undefined;if(c||e){f.push({component:k,width:c||undefined,height:e||undefined})}}}for(r=0,s=f.length;r<s;r++){h=f[r];h.component.setSize(h.width,h.height)}if(p&&p!="hidden"&&!this.adjustmentPass){var q=this.getLayoutTargetSize();if(q.width!=o.width||q.height!=o.height){this.adjustmentPass=true;this.onLayout(l,v)}}delete this.adjustmentPass},parseAnchor:function(c,g,b){if(c&&c!="none"){var e;if(this.parseAnchorRE.test(c)){var f=b-g;return function(a){if(a!==e){e=a;return a-f}}}else{if(c.indexOf("%")!=-1){var d=parseFloat(c.replace("%",""))*0.01;return function(a){if(a!==e){e=a;return Math.floor(a*d)}}}else{c=parseInt(c,10);if(!isNaN(c)){return function(a){if(a!==e){e=a;return a+c}}}}}}return false},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;