Ext.ns("Ext.ux");Ext.ux.JSONP=(function(){var c=[],b=null,a=function(){b=null;if(c.length){b=c.shift();b.script.src=b.url+"?"+b.params;document.getElementsByTagName("head")[0].appendChild(b.script)}};return{request:function(e,h){if(!e){return}var f=this;h.params=h.params||{};if(h.callbackKey){h.params[h.callbackKey]="Ext.ux.JSONP.callback"}var g=Ext.urlEncode(h.params);var d=document.createElement("script");d.type="text/javascript";if(h.isRawJSON){if(Ext.isIE){Ext.fly(d).on("readystatechange",function(){if(d.readyState=="complete"){var i=d.innerHTML;if(i.length){f.callback(Ext.decode(i))}}})}else{Ext.fly(d).on("load",function(){var i=d.innerHTML;if(i.length){f.callback(Ext.decode(i))}})}}c.push({url:e,script:d,callback:h.callback||function(){},scope:h.scope||window,params:g||null});if(!b){a()}},callback:function(d){b.callback.apply(b.scope,[d]);Ext.fly(b.script).removeAllListeners();document.getElementsByTagName("head")[0].removeChild(b.script);a()}}})();