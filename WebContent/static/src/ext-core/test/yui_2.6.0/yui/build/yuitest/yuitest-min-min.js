YAHOO.namespace("tool");(function(){var a=0;YAHOO.tool.TestCase=function(c){this._should={};for(var b in c){this[b]=c[b]}if(!YAHOO.lang.isString(this.name)){this.name="testCase"+(a++)}};YAHOO.tool.TestCase.prototype={resume:function(b){YAHOO.tool.TestRunner.resume(b)},wait:function(b,c){var d=arguments;if(YAHOO.lang.isFunction(d[0])){throw new YAHOO.tool.TestCase.Wait(d[0],d[1])}else{throw new YAHOO.tool.TestCase.Wait(function(){YAHOO.util.Assert.fail("Timeout: wait() called but resume() never called.")},(YAHOO.lang.isNumber(d[0])?d[0]:10000))}},setUp:function(){},tearDown:function(){}};YAHOO.tool.TestCase.Wait=function(b,c){this.segment=(YAHOO.lang.isFunction(b)?b:null);this.delay=(YAHOO.lang.isNumber(c)?c:0)}})();YAHOO.namespace("tool");YAHOO.tool.TestSuite=function(a){this.name="";this.items=[];if(YAHOO.lang.isString(a)){this.name=a}else{if(YAHOO.lang.isObject(a)){YAHOO.lang.augmentObject(this,a,true)}}if(this.name===""){this.name=YAHOO.util.Dom.generateId(null,"testSuite")}};YAHOO.tool.TestSuite.prototype={add:function(a){if(a instanceof YAHOO.tool.TestSuite||a instanceof YAHOO.tool.TestCase){this.items.push(a)}},setUp:function(){},tearDown:function(){}};YAHOO.namespace("tool");YAHOO.tool.TestRunner=(function(){function b(c){this.testObject=c;this.firstChild=null;this.lastChild=null;this.parent=null;this.next=null;this.results={passed:0,failed:0,total:0,ignored:0};if(c instanceof YAHOO.tool.TestSuite){this.results.type="testsuite";this.results.name=c.name}else{if(c instanceof YAHOO.tool.TestCase){this.results.type="testcase";this.results.name=c.name}}}b.prototype={appendChild:function(d){var c=new b(d);if(this.firstChild===null){this.firstChild=this.lastChild=c}else{this.lastChild.next=c;this.lastChild=c}c.parent=this;return c}};function a(){a.superclass.constructor.apply(this,arguments);this.masterSuite=new YAHOO.tool.TestSuite("YUI Test Results");this._cur=null;this._root=null;var c=[this.TEST_CASE_BEGIN_EVENT,this.TEST_CASE_COMPLETE_EVENT,this.TEST_SUITE_BEGIN_EVENT,this.TEST_SUITE_COMPLETE_EVENT,this.TEST_PASS_EVENT,this.TEST_FAIL_EVENT,this.TEST_IGNORE_EVENT,this.COMPLETE_EVENT,this.BEGIN_EVENT];for(var d=0;d<c.length;d++){this.createEvent(c[d],{scope:this})}}YAHOO.lang.extend(a,YAHOO.util.EventProvider,{TEST_CASE_BEGIN_EVENT:"testcasebegin",TEST_CASE_COMPLETE_EVENT:"testcasecomplete",TEST_SUITE_BEGIN_EVENT:"testsuitebegin",TEST_SUITE_COMPLETE_EVENT:"testsuitecomplete",TEST_PASS_EVENT:"pass",TEST_FAIL_EVENT:"fail",TEST_IGNORE_EVENT:"ignore",COMPLETE_EVENT:"complete",BEGIN_EVENT:"begin",_addTestCaseToTestTree:function(f,e){var d=f.appendChild(e);for(var c in e){if(c.indexOf("test")===0&&YAHOO.lang.isFunction(e[c])){d.appendChild(c)}}},_addTestSuiteToTestTree:function(f,c){var d=f.appendChild(c);for(var e=0;e<c.items.length;e++){if(c.items[e] instanceof YAHOO.tool.TestSuite){this._addTestSuiteToTestTree(d,c.items[e])}else{if(c.items[e] instanceof YAHOO.tool.TestCase){this._addTestCaseToTestTree(d,c.items[e])}}}},_buildTestTree:function(){this._root=new b(this.masterSuite);this._cur=this._root;for(var c=0;c<this.masterSuite.items.length;c++){if(this.masterSuite.items[c] instanceof YAHOO.tool.TestSuite){this._addTestSuiteToTestTree(this._root,this.masterSuite.items[c])}else{if(this.masterSuite.items[c] instanceof YAHOO.tool.TestCase){this._addTestCaseToTestTree(this._root,this.masterSuite.items[c])}}}},_handleTestObjectComplete:function(c){if(YAHOO.lang.isObject(c.testObject)){c.parent.results.passed+=c.results.passed;c.parent.results.failed+=c.results.failed;c.parent.results.total+=c.results.total;c.parent.results.ignored+=c.results.ignored;c.parent.results[c.testObject.name]=c.results;if(c.testObject instanceof YAHOO.tool.TestSuite){c.testObject.tearDown();this.fireEvent(this.TEST_SUITE_COMPLETE_EVENT,{testSuite:c.testObject,results:c.results})}else{if(c.testObject instanceof YAHOO.tool.TestCase){this.fireEvent(this.TEST_CASE_COMPLETE_EVENT,{testCase:c.testObject,results:c.results})}}}},_next:function(){if(this._cur.firstChild){this._cur=this._cur.firstChild}else{if(this._cur.next){this._cur=this._cur.next}else{while(this._cur&&!this._cur.next&&this._cur!==this._root){this._handleTestObjectComplete(this._cur);this._cur=this._cur.parent}if(this._cur==this._root){this._cur.results.type="report";this._cur.results.timestamp=(new Date()).toLocaleString();this._cur.results.duration=(new Date())-this._cur.results.duration;this.fireEvent(this.COMPLETE_EVENT,{results:this._cur.results});this._cur=null}else{this._handleTestObjectComplete(this._cur);this._cur=this._cur.next}}}return this._cur},_run:function(){var c=false;var d=this._next();if(d!==null){var e=d.testObject;if(YAHOO.lang.isObject(e)){if(e instanceof YAHOO.tool.TestSuite){this.fireEvent(this.TEST_SUITE_BEGIN_EVENT,{testSuite:e});e.setUp()}else{if(e instanceof YAHOO.tool.TestCase){this.fireEvent(this.TEST_CASE_BEGIN_EVENT,{testCase:e})}}if(typeof setTimeout!="undefined"){setTimeout(function(){YAHOO.tool.TestRunner._run()},0)}else{this._run()}}else{this._runTest(d)}}},_resumeTest:function(i){var d=this._cur;var h=d.testObject;var k=d.parent.testObject;if(k.__yui_wait){clearTimeout(k.__yui_wait);delete k.__yui_wait}var e=(k._should.fail||{})[h];var c=(k._should.error||{})[h];var j=false;var g=null;try{i.apply(k);if(e){g=new YAHOO.util.ShouldFail();j=true}else{if(c){g=new YAHOO.util.ShouldError();j=true}}}catch(f){if(f instanceof YAHOO.util.AssertionError){if(!e){g=f;j=true}}else{if(f instanceof YAHOO.tool.TestCase.Wait){if(YAHOO.lang.isFunction(f.segment)){if(YAHOO.lang.isNumber(f.delay)){if(typeof setTimeout!="undefined"){k.__yui_wait=setTimeout(function(){YAHOO.tool.TestRunner._resumeTest(f.segment)},f.delay)}else{throw new Error("Asynchronous tests not supported in this environment.")}}}return}else{if(!c){g=new YAHOO.util.UnexpectedError(f);j=true}else{if(YAHOO.lang.isString(c)){if(f.message!=c){g=new YAHOO.util.UnexpectedError(f);j=true}}else{if(YAHOO.lang.isFunction(c)){if(!(f instanceof c)){g=new YAHOO.util.UnexpectedError(f);j=true}}else{if(YAHOO.lang.isObject(c)){if(!(f instanceof c.constructor)||f.message!=c.message){g=new YAHOO.util.UnexpectedError(f);j=true}}}}}}}}if(j){this.fireEvent(this.TEST_FAIL_EVENT,{testCase:k,testName:h,error:g})}else{this.fireEvent(this.TEST_PASS_EVENT,{testCase:k,testName:h})}k.tearDown();d.parent.results[h]={result:j?"fail":"pass",message:g?g.getMessage():"Test passed",type:"test",name:h};if(j){d.parent.results.failed++}else{d.parent.results.passed++}d.parent.results.total++;if(typeof setTimeout!="undefined"){setTimeout(function(){YAHOO.tool.TestRunner._run()},0)}else{this._run()}},_runTest:function(d){var g=d.testObject;var f=d.parent.testObject;var c=f[g];var e=(f._should.ignore||{})[g];if(e){d.parent.results[g]={result:"ignore",message:"Test ignored",type:"test",name:g};d.parent.results.ignored++;d.parent.results.total++;this.fireEvent(this.TEST_IGNORE_EVENT,{testCase:f,testName:g});if(typeof setTimeout!="undefined"){setTimeout(function(){YAHOO.tool.TestRunner._run()},0)}else{this._run()}}else{f.setUp();this._resumeTest(c)}},fireEvent:function(d,c){c=c||{};c.type=d;a.superclass.fireEvent.call(this,d,c)},add:function(c){this.masterSuite.add(c)},clear:function(){this.masterSuite.items=[]},resume:function(c){this._resumeTest(c||function(){})},run:function(d){var c=YAHOO.tool.TestRunner;c._buildTestTree();c._root.results.duration=(new Date()).valueOf();c.fireEvent(c.BEGIN_EVENT);c._run()}});return new a()})();YAHOO.namespace("util");YAHOO.util.Assert={_formatMessage:function(c,a){var b=c;if(YAHOO.lang.isString(c)&&c.length>0){return YAHOO.lang.substitute(c,{message:a})}else{return a}},fail:function(a){throw new YAHOO.util.AssertionError(this._formatMessage(a,"Test force-failed."))},areEqual:function(c,b,a){if(c!=b){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Values should be equal."),c,b)}},areNotEqual:function(a,b,c){if(a==b){throw new YAHOO.util.UnexpectedValue(this._formatMessage(c,"Values should not be equal."),a)}},areNotSame:function(a,b,c){if(a===b){throw new YAHOO.util.UnexpectedValue(this._formatMessage(c,"Values should not be the same."),a)}},areSame:function(c,b,a){if(c!==b){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Values should be the same."),c,b)}},isFalse:function(b,a){if(false!==b){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value should be false."),false,b)}},isTrue:function(b,a){if(true!==b){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value should be true."),true,b)}},isNaN:function(b,a){if(!isNaN(b)){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value should be NaN."),NaN,b)}},isNotNaN:function(b,a){if(isNaN(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Values should not be NaN."),NaN)}},isNotNull:function(b,a){if(YAHOO.lang.isNull(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Values should not be null."),null)}},isNotUndefined:function(b,a){if(YAHOO.lang.isUndefined(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should not be undefined."),undefined)}},isNull:function(b,a){if(!YAHOO.lang.isNull(b)){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value should be null."),null,b)}},isUndefined:function(b,a){if(!YAHOO.lang.isUndefined(b)){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value should be undefined."),undefined,b)}},isArray:function(b,a){if(!YAHOO.lang.isArray(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be an array."),b)}},isBoolean:function(b,a){if(!YAHOO.lang.isBoolean(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be a Boolean."),b)}},isFunction:function(b,a){if(!YAHOO.lang.isFunction(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be a function."),b)}},isInstanceOf:function(c,b,a){if(!(b instanceof c)){throw new YAHOO.util.ComparisonFailure(this._formatMessage(a,"Value isn't an instance of expected type."),c,b)}},isNumber:function(b,a){if(!YAHOO.lang.isNumber(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be a number."),b)}},isObject:function(b,a){if(!YAHOO.lang.isObject(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be an object."),b)}},isString:function(b,a){if(!YAHOO.lang.isString(b)){throw new YAHOO.util.UnexpectedValue(this._formatMessage(a,"Value should be a string."),b)}},isTypeOf:function(a,b,c){if(typeof b!=a){throw new YAHOO.util.ComparisonFailure(this._formatMessage(c,"Value should be of type "+expected+"."),expected,typeof actual)}}};YAHOO.util.AssertionError=function(a){arguments.callee.superclass.constructor.call(this,a);this.message=a;this.name="AssertionError"};YAHOO.lang.extend(YAHOO.util.AssertionError,Error,{getMessage:function(){return this.message},toString:function(){return this.name+": "+this.getMessage()},valueOf:function(){return this.toString()}});YAHOO.util.ComparisonFailure=function(c,a,b){arguments.callee.superclass.constructor.call(this,c);this.expected=a;this.actual=b;this.name="ComparisonFailure"};YAHOO.lang.extend(YAHOO.util.ComparisonFailure,YAHOO.util.AssertionError,{getMessage:function(){return this.message+"\nExpected: "+this.expected+" ("+(typeof this.expected)+")\nActual:"+this.actual+" ("+(typeof this.actual)+")"}});YAHOO.util.UnexpectedValue=function(b,a){arguments.callee.superclass.constructor.call(this,b);this.unexpected=a;this.name="UnexpectedValue"};YAHOO.lang.extend(YAHOO.util.UnexpectedValue,YAHOO.util.AssertionError,{getMessage:function(){return this.message+"\nUnexpected: "+this.unexpected+" ("+(typeof this.unexpected)+") "}});YAHOO.util.ShouldFail=function(a){arguments.callee.superclass.constructor.call(this,a||"This test should fail but didn't.");this.name="ShouldFail"};YAHOO.lang.extend(YAHOO.util.ShouldFail,YAHOO.util.AssertionError);YAHOO.util.ShouldError=function(a){arguments.callee.superclass.constructor.call(this,a||"This test should have thrown an error but didn't.");this.name="ShouldError"};YAHOO.lang.extend(YAHOO.util.ShouldError,YAHOO.util.AssertionError);YAHOO.util.UnexpectedError=function(a){arguments.callee.superclass.constructor.call(this,"Unexpected error: "+a.message);this.cause=a;this.name="UnexpectedError";this.stack=a.stack};YAHOO.lang.extend(YAHOO.util.UnexpectedError,YAHOO.util.AssertionError);YAHOO.util.ArrayAssert={contains:function(c,d,f){var e=false;var b=YAHOO.util.Assert;for(var a=0;a<d.length&&!e;a++){if(d[a]===c){e=true}}if(!e){b.fail(b._formatMessage(f,"Value "+c+" ("+(typeof c)+") not found in array ["+d+"]."))}},containsItems:function(c,b,d){for(var a=0;a<c.length;a++){this.contains(c[a],b,d)}},containsMatch:function(c,d,f){if(typeof c!="function"){throw new TypeError("ArrayAssert.containsMatch(): First argument must be a function.")}var e=false;var b=YAHOO.util.Assert;for(var a=0;a<d.length&&!e;a++){if(c(d[a])){e=true}}if(!e){b.fail(b._formatMessage(f,"No match found in array ["+d+"]."))}},doesNotContain:function(c,d,f){var e=false;var b=YAHOO.util.Assert;for(var a=0;a<d.length&&!e;a++){if(d[a]===c){e=true}}if(e){b.fail(b._formatMessage(f,"Value found in array ["+d+"]."))}},doesNotContainItems:function(c,b,d){for(var a=0;a<c.length;a++){this.doesNotContain(c[a],b,d)}},doesNotContainMatch:function(c,d,f){if(typeof c!="function"){throw new TypeError("ArrayAssert.doesNotContainMatch(): First argument must be a function.")}var e=false;var b=YAHOO.util.Assert;for(var a=0;a<d.length&&!e;a++){if(c(d[a])){e=true}}if(e){b.fail(b._formatMessage(f,"Value found in array ["+d+"]."))}},indexOf:function(c,d,a,e){for(var f=0;f<d.length;f++){if(d[f]===c){YAHOO.util.Assert.areEqual(a,f,e||"Value exists at index "+f+" but should be at index "+a+".");return}}var b=YAHOO.util.Assert;b.fail(b._formatMessage(e,"Value doesn't exist in array ["+d+"]."))},itemsAreEqual:function(d,b,e){var a=Math.max(d.length,b.length);var c=YAHOO.util.Assert;for(var f=0;f<a;f++){c.areEqual(d[f],b[f],c._formatMessage(e,"Values in position "+f+" are not equal."))}},itemsAreEquivalent:function(c,b,f,d){if(typeof f!="function"){throw new TypeError("ArrayAssert.itemsAreEquivalent(): Third argument must be a function.")}var a=Math.max(c.length,b.length);for(var e=0;e<a;e++){if(!f(c[e],b[e])){throw new YAHOO.util.ComparisonFailure(YAHOO.util.Assert._formatMessage(d,"Values in position "+e+" are not equivalent."),c[e],b[e])}}},isEmpty:function(b,a){if(b.length>0){var c=YAHOO.util.Assert;c.fail(c._formatMessage(a,"Array should be empty."))}},isNotEmpty:function(b,a){if(b.length===0){var c=YAHOO.util.Assert;c.fail(c._formatMessage(a,"Array should not be empty."))}},itemsAreSame:function(d,b,e){var a=Math.max(d.length,b.length);var c=YAHOO.util.Assert;for(var f=0;f<a;f++){c.areSame(d[f],b[f],c._formatMessage(e,"Values in position "+f+" are not the same."))}},lastIndexOf:function(c,d,a,e){var b=YAHOO.util.Assert;for(var f=d.length;f>=0;f--){if(d[f]===c){b.areEqual(a,f,b._formatMessage(e,"Value exists at index "+f+" but should be at index "+a+"."));return}}b.fail(b._formatMessage(e,"Value doesn't exist in array."))}};YAHOO.namespace("util");YAHOO.util.ObjectAssert={propertiesAreEqual:function(e,b,f){var c=YAHOO.util.Assert;var g=[];for(var d in e){g.push(d)}for(var a=0;a<g.length;a++){c.isNotUndefined(b[g[a]],c._formatMessage(f,"Property '"+g[a]+"' expected."))}},hasProperty:function(a,d,c){if(!(a in d)){var b=YAHOO.util.Assert;b.fail(b._formatMessage(c,"Property '"+a+"' not found on object."))}},hasOwnProperty:function(a,d,c){if(!YAHOO.lang.hasOwnProperty(d,a)){var b=YAHOO.util.Assert;b.fail(b._formatMessage(c,"Property '"+a+"' not found on object instance."))}}};YAHOO.util.DateAssert={datesAreEqual:function(d,b,a){if(d instanceof Date&&b instanceof Date){var c=YAHOO.util.Assert;c.areEqual(d.getFullYear(),b.getFullYear(),c._formatMessage(a,"Years should be equal."));c.areEqual(d.getMonth(),b.getMonth(),c._formatMessage(a,"Months should be equal."));c.areEqual(d.getDate(),b.getDate(),c._formatMessage(a,"Day of month should be equal."))}else{throw new TypeError("DateAssert.datesAreEqual(): Expected and actual values must be Date objects.")}},timesAreEqual:function(d,b,a){if(d instanceof Date&&b instanceof Date){var c=YAHOO.util.Assert;c.areEqual(d.getHours(),b.getHours(),c._formatMessage(a,"Hours should be equal."));c.areEqual(d.getMinutes(),b.getMinutes(),c._formatMessage(a,"Minutes should be equal."));c.areEqual(d.getSeconds(),b.getSeconds(),c._formatMessage(a,"Seconds should be equal."))}else{throw new TypeError("DateAssert.timesAreEqual(): Expected and actual values must be Date objects.")}}};YAHOO.namespace("util");YAHOO.util.UserAction={simulateKeyEvent:function(m,i,n,b,g,c,d,h,k,e,f){m=YAHOO.util.Dom.get(m);if(!m){throw new Error("simulateKeyEvent(): Invalid target.")}if(YAHOO.lang.isString(i)){i=i.toLowerCase();switch(i){case"keyup":case"keydown":case"keypress":break;case"textevent":i="keypress";break;default:throw new Error("simulateKeyEvent(): Event type '"+i+"' not supported.")}}else{throw new Error("simulateKeyEvent(): Event type must be a string.")}if(!YAHOO.lang.isBoolean(n)){n=true}if(!YAHOO.lang.isBoolean(b)){b=true}if(!YAHOO.lang.isObject(g)){g=window}if(!YAHOO.lang.isBoolean(c)){c=false}if(!YAHOO.lang.isBoolean(d)){d=false}if(!YAHOO.lang.isBoolean(h)){h=false}if(!YAHOO.lang.isBoolean(k)){k=false}if(!YAHOO.lang.isNumber(e)){e=0}if(!YAHOO.lang.isNumber(f)){f=0}var j=null;if(YAHOO.lang.isFunction(document.createEvent)){try{j=document.createEvent("KeyEvents");j.initKeyEvent(i,n,b,g,c,d,h,k,e,f)}catch(l){try{j=document.createEvent("Events")}catch(a){j=document.createEvent("UIEvents")}finally{j.initEvent(i,n,b);j.view=g;j.altKey=d;j.ctrlKey=c;j.shiftKey=h;j.metaKey=k;j.keyCode=e;j.charCode=f}}m.dispatchEvent(j)}else{if(YAHOO.lang.isObject(document.createEventObject)){j=document.createEventObject();j.bubbles=n;j.cancelable=b;j.view=g;j.ctrlKey=c;j.altKey=d;j.shiftKey=h;j.metaKey=k;j.keyCode=(f>0)?f:e;m.fireEvent("on"+i,j)}else{throw new Error("simulateKeyEvent(): No event simulation framework present.")}}},simulateMouseEvent:function(k,f,n,q,e,l,o,p,a,c,b,d,g,i,m,j){k=YAHOO.util.Dom.get(k);if(!k){throw new Error("simulateMouseEvent(): Invalid target.")}if(YAHOO.lang.isString(f)){f=f.toLowerCase();switch(f){case"mouseover":case"mouseout":case"mousedown":case"mouseup":case"click":case"dblclick":case"mousemove":break;default:throw new Error("simulateMouseEvent(): Event type '"+f+"' not supported.")}}else{throw new Error("simulateMouseEvent(): Event type must be a string.")}if(!YAHOO.lang.isBoolean(n)){n=true}if(!YAHOO.lang.isBoolean(q)){q=(f!="mousemove")}if(!YAHOO.lang.isObject(e)){e=window}if(!YAHOO.lang.isNumber(l)){l=1}if(!YAHOO.lang.isNumber(o)){o=0}if(!YAHOO.lang.isNumber(p)){p=0}if(!YAHOO.lang.isNumber(a)){a=0}if(!YAHOO.lang.isNumber(c)){c=0}if(!YAHOO.lang.isBoolean(b)){b=false}if(!YAHOO.lang.isBoolean(d)){d=false}if(!YAHOO.lang.isBoolean(g)){g=false}if(!YAHOO.lang.isBoolean(i)){i=false}if(!YAHOO.lang.isNumber(m)){m=0}var h=null;if(YAHOO.lang.isFunction(document.createEvent)){h=document.createEvent("MouseEvents");if(h.initMouseEvent){h.initMouseEvent(f,n,q,e,l,o,p,a,c,b,d,g,i,m,j)}else{h=document.createEvent("UIEvents");h.initEvent(f,n,q);h.view=e;h.detail=l;h.screenX=o;h.screenY=p;h.clientX=a;h.clientY=c;h.ctrlKey=b;h.altKey=d;h.metaKey=i;h.shiftKey=g;h.button=m;h.relatedTarget=j}if(j&&!h.relatedTarget){if(f=="mouseout"){h.toElement=j}else{if(f=="mouseover"){h.fromElement=j}}}k.dispatchEvent(h)}else{if(YAHOO.lang.isObject(document.createEventObject)){h=document.createEventObject();h.bubbles=n;h.cancelable=q;h.view=e;h.detail=l;h.screenX=o;h.screenY=p;h.clientX=a;h.clientY=c;h.ctrlKey=b;h.altKey=d;h.metaKey=i;h.shiftKey=g;switch(m){case 0:h.button=1;break;case 1:h.button=4;break;case 2:break;default:h.button=0}h.relatedTarget=j;k.fireEvent("on"+f,h)}else{throw new Error("simulateMouseEvent(): No event simulation framework present.")}}},fireMouseEvent:function(b,c,a){a=a||{};this.simulateMouseEvent(b,c,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)},click:function(b,a){this.fireMouseEvent(b,"click",a)},dblclick:function(b,a){this.fireMouseEvent(b,"dblclick",a)},mousedown:function(b,a){this.fireMouseEvent(b,"mousedown",a)},mousemove:function(b,a){this.fireMouseEvent(b,"mousemove",a)},mouseout:function(b,a){this.fireMouseEvent(b,"mouseout",a)},mouseover:function(b,a){this.fireMouseEvent(b,"mouseover",a)},mouseup:function(b,a){this.fireMouseEvent(b,"mouseup",a)},fireKeyEvent:function(c,b,a){a=a||{};this.simulateKeyEvent(b,c,a.bubbles,a.cancelable,a.view,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.keyCode,a.charCode)},keydown:function(b,a){this.fireKeyEvent("keydown",b,a)},keypress:function(b,a){this.fireKeyEvent("keypress",b,a)},keyup:function(b,a){this.fireKeyEvent("keyup",b,a)}};YAHOO.namespace("tool");YAHOO.tool.TestManager={TEST_PAGE_BEGIN_EVENT:"testpagebegin",TEST_PAGE_COMPLETE_EVENT:"testpagecomplete",TEST_MANAGER_BEGIN_EVENT:"testmanagerbegin",TEST_MANAGER_COMPLETE_EVENT:"testmanagercomplete",_curPage:null,_frame:null,_logger:null,_timeoutId:0,_pages:[],_results:null,_handleTestRunnerComplete:function(a){this.fireEvent(this.TEST_PAGE_COMPLETE_EVENT,{page:this._curPage,results:a.results});this._processResults(this._curPage,a.results);this._logger.clearTestRunner();if(this._pages.length){this._timeoutId=setTimeout(function(){YAHOO.tool.TestManager._run()},1000)}else{this.fireEvent(this.TEST_MANAGER_COMPLETE_EVENT,this._results)}},_processResults:function(b,a){var c=this._results;c.passed+=a.passed;c.failed+=a.failed;c.ignored+=a.ignored;c.total+=a.total;c.duration+=a.duration;if(a.failed){c.failedPages.push(b)}else{c.passedPages.push(b)}a.name=b;a.type="page";c[b]=a},_run:function(){this._curPage=this._pages.shift();this.fireEvent(this.TEST_PAGE_BEGIN_EVENT,this._curPage);this._frame.location.replace(this._curPage)},load:function(){if(parent.YAHOO.tool.TestManager!==this){parent.YAHOO.tool.TestManager.load()}else{if(this._frame){var a=this._frame.YAHOO.tool.TestRunner;this._logger.setTestRunner(a);a.subscribe(a.COMPLETE_EVENT,this._handleTestRunnerComplete,this,true);a.run()}}},setPages:function(a){this._pages=a},start:function(){if(!this._initialized){this.createEvent(this.TEST_PAGE_BEGIN_EVENT);this.createEvent(this.TEST_PAGE_COMPLETE_EVENT);this.createEvent(this.TEST_MANAGER_BEGIN_EVENT);this.createEvent(this.TEST_MANAGER_COMPLETE_EVENT);if(!this._frame){var a=document.createElement("iframe");a.style.visibility="hidden";a.style.position="absolute";document.body.appendChild(a);this._frame=a.contentWindow||a.contentDocument.parentWindow}if(!this._logger){this._logger=new YAHOO.tool.TestLogger()}this._initialized=true}this._results={passed:0,failed:0,ignored:0,total:0,type:"report",name:"YUI Test Results",duration:0,failedPages:[],passedPages:[]};this.fireEvent(this.TEST_MANAGER_BEGIN_EVENT,null);this._run()},stop:function(){clearTimeout(this._timeoutId)}};YAHOO.lang.augmentObject(YAHOO.tool.TestManager,YAHOO.util.EventProvider.prototype);YAHOO.namespace("tool");YAHOO.tool.TestLogger=function(b,a){YAHOO.tool.TestLogger.superclass.constructor.call(this,b,a);this.init()};YAHOO.lang.extend(YAHOO.tool.TestLogger,YAHOO.widget.LogReader,{footerEnabled:true,newestOnTop:false,formatMsg:function(c){var a=c.category;var b=this.html2Text(c.msg);return'<pre><p><span class="'+a+'">'+a.toUpperCase()+"</span> "+b+"</p></pre>"},init:function(){if(YAHOO.tool.TestRunner){this.setTestRunner(YAHOO.tool.TestRunner)}this.hideSource("global");this.hideSource("LogReader");this.hideCategory("warn");this.hideCategory("window");this.hideCategory("time");this.clearConsole()},clearTestRunner:function(){if(this._runner){this._runner.unsubscribeAll();this._runner=null}},setTestRunner:function(a){if(this._runner){this.clearTestRunner()}this._runner=a;a.subscribe(a.TEST_PASS_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_FAIL_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_IGNORE_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.BEGIN_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.COMPLETE_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_SUITE_BEGIN_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_SUITE_COMPLETE_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_CASE_BEGIN_EVENT,this._handleTestRunnerEvent,this,true);a.subscribe(a.TEST_CASE_COMPLETE_EVENT,this._handleTestRunnerEvent,this,true)},_handleTestRunnerEvent:function(b){var a=YAHOO.tool.TestRunner;var c="";var d="";switch(b.type){case a.BEGIN_EVENT:c="Testing began at "+(new Date()).toString()+".";d="info";break;case a.COMPLETE_EVENT:c="Testing completed at "+(new Date()).toString()+".\nPassed:"+b.results.passed+" Failed:"+b.results.failed+" Total:"+b.results.total;d="info";break;case a.TEST_FAIL_EVENT:c=b.testName+": "+b.error.getMessage();d="fail";break;case a.TEST_IGNORE_EVENT:c=b.testName+": ignored.";d="ignore";break;case a.TEST_PASS_EVENT:c=b.testName+": passed.";d="pass";break;case a.TEST_SUITE_BEGIN_EVENT:c='Test suite "'+b.testSuite.name+'" started.';d="info";break;case a.TEST_SUITE_COMPLETE_EVENT:c='Test suite "'+b.testSuite.name+'" completed.\nPassed:'+b.results.passed+" Failed:"+b.results.failed+" Total:"+b.results.total;d="info";break;case a.TEST_CASE_BEGIN_EVENT:c='Test case "'+b.testCase.name+'" started.';d="info";break;case a.TEST_CASE_COMPLETE_EVENT:c='Test case "'+b.testCase.name+'" completed.\nPassed:'+b.results.passed+" Failed:"+b.results.failed+" Total:"+b.results.total;d="info";break;default:c="Unexpected event "+b.type;c="info"}YAHOO.log(c,d,"TestRunner")}});YAHOO.namespace("tool.TestFormat");YAHOO.tool.TestFormat.JSON=function(a){return YAHOO.lang.JSON.stringify(a)};YAHOO.tool.TestFormat.XML=function(c){var a=YAHOO.lang;var d="<"+c.type+' name="'+c.name.replace(/"/g,"&quot;").replace(/'/g,"&apos;")+'"';if(a.isNumber(c.duration)){d+=' duration="'+c.duration+'"'}if(c.type=="test"){d+=' result="'+c.result+'" message="'+c.message+'">'}else{d+=' passed="'+c.passed+'" failed="'+c.failed+'" ignored="'+c.ignored+'" total="'+c.total+'">';for(var b in c){if(a.hasOwnProperty(c,b)&&a.isObject(c[b])&&!a.isArray(c[b])){d+=arguments.callee(c[b])}}}d+="</"+c.type+">";return d};YAHOO.namespace("tool");YAHOO.tool.TestReporter=function(a,b){this.url=a;this.format=b||YAHOO.tool.TestFormat.XML;this._fields=new Object();this._form=null;this._iframe=null};YAHOO.tool.TestReporter.prototype={constructor:YAHOO.tool.TestReporter,_convertToISOString:function(a){function b(c){return c<10?"0"+c:c}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z"},addField:function(a,b){this._fields[a]=b},clearFields:function(){this._fields=new Object()},destroy:function(){if(this._form){this._form.parentNode.removeChild(this._form);this._form=null}if(this._iframe){this._iframe.parentNode.removeChild(this._iframe);this._iframe=null}this._fields=null},report:function(a){if(!this._form){this._form=document.createElement("form");this._form.method="post";this._form.style.visibility="hidden";this._form.style.position="absolute";this._form.style.top=0;document.body.appendChild(this._form);if(YAHOO.env.ua.ie){this._iframe=document.createElement('<iframe name="yuiTestTarget" />')}else{this._iframe=document.createElement("iframe");this._iframe.name="yuiTestTarget"}this._iframe.src="javascript:false";this._iframe.style.visibility="hidden";this._iframe.style.position="absolute";this._iframe.style.top=0;document.body.appendChild(this._iframe);this._form.target="yuiTestTarget"}this._form.action=this.url;while(this._form.hasChildNodes()){this._form.removeChild(this._form.lastChild)}this._fields.results=this.format(a);this._fields.useragent=navigator.userAgent;this._fields.timestamp=this._convertToISOString(new Date());for(var b in this._fields){if(YAHOO.lang.hasOwnProperty(this._fields,b)&&typeof this._fields[b]!="function"){if(YAHOO.env.ua.ie){input=document.createElement('<input name="'+b+'" >')}else{input=document.createElement("input");input.name=b}input.type="hidden";input.value=this._fields[b];this._form.appendChild(input)}}delete this._fields.results;delete this._fields.useragent;delete this._fields.timestamp;if(arguments[1]!==false){this._form.submit()}}};YAHOO.register("yuitest",YAHOO.tool.TestRunner,{version:"2.6.0",build:"1321"});