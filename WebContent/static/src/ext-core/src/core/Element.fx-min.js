Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls="x-hide-nosize";Ext.Element.addMethods(function(){var e=Ext.Element,o="opacity",i="visibility",f="display",d="hidden",m="offsets",j="asclass",l="none",a="nosize",b="originalDisplay",c="visibilityMode",g="isVisible",h=e.data,k=function(q){var p=h(q,b);if(p===undefined){h(q,b,p="")}return p},n=function(q){var p=h(q,c);if(p===undefined){h(q,c,p=1)}return p};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(p){h(this.dom,c,p);return this},animate:function(q,s,r,t,p){this.anim(q,{duration:s,callback:r,easing:t},p);return this},anim:function(s,t,q,v,r,p){q=q||"run";t=t||{};var u=this,w=Ext.lib.Anim[q](u.dom,s,(t.duration||v)||0.35,(t.easing||r)||"easeOut",function(){if(p){p.call(u)}if(t.callback){t.callback.call(t.scope||u,u,t)}},u);t.anim=w;return w},preanim:function(p,q){return !p[q]?false:(typeof p[q]=="object"?p[q]:{duration:p[q+1],callback:p[q+2],easing:p[q+3]})},isVisible:function(){var p=this,r=p.dom,q=h(r,g);if(typeof q=="boolean"){return q}q=!p.isStyle(i,d)&&!p.isStyle(f,l)&&!((n(r)==e.ASCLASS)&&p.hasClass(p.visibilityCls||e.visibilityCls));h(r,g,q);return q},setVisible:function(s,p){var v=this,q,x,w,u,t=v.dom,r=n(t);if(typeof p=="string"){switch(p){case f:r=e.DISPLAY;break;case i:r=e.VISIBILITY;break;case m:r=e.OFFSETS;break;case a:case j:r=e.ASCLASS;break}v.setVisibilityMode(r);p=false}if(!p||!v.anim){if(r==e.ASCLASS){v[s?"removeClass":"addClass"](v.visibilityCls||e.visibilityCls)}else{if(r==e.DISPLAY){return v.setDisplayed(s)}else{if(r==e.OFFSETS){if(!s){v.hideModeStyles={position:v.getStyle("position"),top:v.getStyle("top"),left:v.getStyle("left")};v.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{v.applyStyles(v.hideModeStyles||{position:"",top:"",left:""});delete v.hideModeStyles}}else{v.fixDisplay();t.style.visibility=s?"visible":d}}}}else{if(s){v.setOpacity(0.01);v.setVisible(true)}v.anim({opacity:{to:(s?1:0)}},v.preanim(arguments,1),null,0.35,"easeIn",function(){s||v.setVisible(false).setOpacity(1)})}h(t,g,s);return v},hasMetrics:function(){var p=this.dom;return this.isVisible()||(n(p)==e.VISIBILITY)},toggle:function(p){var q=this;q.setVisible(!q.isVisible(),q.preanim(arguments,0));return q},setDisplayed:function(p){if(typeof p=="boolean"){p=p?k(this.dom):l}this.setStyle(f,p);return this},fixDisplay:function(){var p=this;if(p.isStyle(f,l)){p.setStyle(i,d);p.setStyle(f,k(this.dom));if(p.isStyle(f,l)){p.setStyle(f,"block")}}},hide:function(p){if(typeof p=="string"){this.setVisible(false,p);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(p){if(typeof p=="string"){this.setVisible(true,p);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());