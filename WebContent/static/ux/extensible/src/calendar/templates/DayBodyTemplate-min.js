/*!
 * Extensible 1.0.2
 * Copyright(c) 2010-2012 Extensible, LLC
 * licensing@ext.ensible.com
 * http://ext.ensible.com
 */
Ext.ensible.cal.DayBodyTemplate=function(a){Ext.apply(this,a);Ext.ensible.cal.DayBodyTemplate.superclass.constructor.call(this,'<table class="ext-cal-bg-tbl" cellspacing="0" cellpadding="0" style="height:{dayHeight}px;">',"<tbody>",'<tr height="1">','<td class="ext-cal-gutter"></td>','<td colspan="{dayCount}">','<div class="ext-cal-bg-rows">','<div class="ext-cal-bg-rows-inner">','<tpl for="times">','<div class="ext-cal-bg-row ext-row-{[xindex]}" style="height:{parent.hourHeight}px;">','<div class="ext-cal-bg-row-div {parent.hourSeparatorCls}" style="height:{parent.hourSeparatorHeight}px;"></div>',"</div>","</tpl>","</div>","</div>","</td>","</tr>","<tr>",'<td class="ext-cal-day-times">','<tpl for="times">','<div class="ext-cal-bg-row" style="height:{parent.hourHeight}px;">','<div class="ext-cal-day-time-inner"  style="height:{parent.hourHeight-1}px;">{.}</div>',"</div>","</tpl>","</td>",'<tpl for="days">','<td class="ext-cal-day-col">','<div class="ext-cal-day-col-inner">','<div id="{[this.id]}-day-col-{.:date("Ymd")}" class="ext-cal-day-col-gutter" style="height:{parent.dayHeight}px;"></div>',"</div>","</td>","</tpl>","</tr>","</tbody>","</table>")};Ext.extend(Ext.ensible.cal.DayBodyTemplate,Ext.XTemplate,{applyTemplate:function(d){this.today=new Date().clearTime();this.dayCount=this.dayCount||1;var g=0,j=[],e=d.viewStart.clone();for(;g<this.dayCount;g++){j[g]=e.add(Date.DAY,g)}var a=[],b=this.viewStartHour,f=this.viewEndHour,c=this.hourIncrement,h=this.hourHeight*(f-b);fmt=Ext.ensible.Date.use24HourTime?"G:i":"ga";e=new Date("1/1/2010").clearTime().add(Date.HOUR,b);for(g=b;g<f;g++){a.push(e.format(fmt));e=e.add(Date.MINUTE,c)}return Ext.ensible.cal.DayBodyTemplate.superclass.applyTemplate.call(this,{days:j,dayCount:j.length,times:a,hourHeight:this.hourHeight,hourSeparatorCls:this.showHourSeparator?"":"no-sep",dayHeight:h,hourSeparatorHeight:(this.hourHeight/2)-1})}});Ext.ensible.cal.DayBodyTemplate.prototype.apply=Ext.ensible.cal.DayBodyTemplate.prototype.applyTemplate;